<!doctype html><html lang=en dir=auto data-theme=auto><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Giving powers to the Navigation Compose library | Sergio Belda</title><meta name=keywords content="Navigation,Annotations,Multiplatform,Compose"><meta name=description content="Navigation Compose Extended is a multiplatform complementary library for Navigation Compose to improve creation of navigation elements, such as destination routes, arguments, deep links, … in a more idiomatic way than using literals. It also provides safe navigation routes and safe navigation arguments.
Usage
This library can be used programmatically or using annotations to generate classes. In the following lines, annotations are used to create navigation elements.
First, add the following dependencies in the module build.gradle file."><meta name=author content="Sergio Belda"><link rel=canonical href=http://localhost:1313/posts/2024/giving-powers-to-the-navigation-compose-library/><link crossorigin=anonymous href=/assets/css/stylesheet.372546c87cecb59087df7d146194a4f652ee14a6c512573765b5e224be20cada.css integrity="sha256-NyVGyHzstZCH330UYZSk9lLuFKbFElc3ZbXiJL4gyto=" rel="preload stylesheet" as=style><link rel=icon href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=http://localhost:1313/posts/2024/giving-powers-to-the-navigation-compose-library/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><meta property="og:url" content="http://localhost:1313/posts/2024/giving-powers-to-the-navigation-compose-library/"><meta property="og:site_name" content="Sergio Belda"><meta property="og:title" content="Giving powers to the Navigation Compose library"><meta property="og:description" content="Navigation Compose Extended is a multiplatform complementary library for Navigation Compose to improve creation of navigation elements, such as destination routes, arguments, deep links, … in a more idiomatic way than using literals. It also provides safe navigation routes and safe navigation arguments.
Usage This library can be used programmatically or using annotations to generate classes. In the following lines, annotations are used to create navigation elements.
First, add the following dependencies in the module build.gradle file."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-04-24T00:00:00+00:00"><meta property="article:modified_time" content="2024-04-24T00:00:00+00:00"><meta property="article:tag" content="Navigation"><meta property="article:tag" content="Annotations"><meta property="article:tag" content="Multiplatform"><meta property="article:tag" content="Compose"><meta name=twitter:card content="summary"><meta name=twitter:title content="Giving powers to the Navigation Compose library"><meta name=twitter:description content="Navigation Compose Extended is a multiplatform complementary library for Navigation Compose to improve creation of navigation elements, such as destination routes, arguments, deep links, … in a more idiomatic way than using literals. It also provides safe navigation routes and safe navigation arguments.
Usage
This library can be used programmatically or using annotations to generate classes. In the following lines, annotations are used to create navigation elements.
First, add the following dependencies in the module build.gradle file."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://localhost:1313/posts/"},{"@type":"ListItem","position":2,"name":"Giving powers to the Navigation Compose library","item":"http://localhost:1313/posts/2024/giving-powers-to-the-navigation-compose-library/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Giving powers to the Navigation Compose library","name":"Giving powers to the Navigation Compose library","description":"Navigation Compose Extended is a multiplatform complementary library for Navigation Compose to improve creation of navigation elements, such as destination routes, arguments, deep links, … in a more idiomatic way than using literals. It also provides safe navigation routes and safe navigation arguments.\nUsage This library can be used programmatically or using annotations to generate classes. In the following lines, annotations are used to create navigation elements.\nFirst, add the following dependencies in the module build.gradle file.\n","keywords":["Navigation","Annotations","Multiplatform","Compose"],"articleBody":"Navigation Compose Extended is a multiplatform complementary library for Navigation Compose to improve creation of navigation elements, such as destination routes, arguments, deep links, … in a more idiomatic way than using literals. It also provides safe navigation routes and safe navigation arguments.\nUsage This library can be used programmatically or using annotations to generate classes. In the following lines, annotations are used to create navigation elements.\nFirst, add the following dependencies in the module build.gradle file.\nplugins { id(\"com.google.devtools.ksp\") // Use ksp to use compiler library. } kotlin { sourceSets { val commonMain by getting { dependencies { // Add Jetbrains Navigation Compose Multiplatform dependency. implementation(\"org.jetbrains.androidx.navigation:navigation-compose:$jetbrains_nav_version\") implementation(\"dev.sergiobelda.navigation.compose.extended:navigation-compose-extended:$version\") // Use Annotations to generate NavDestinations. implementation(\"dev.sergiobelda.navigation.compose.extended:navigation-compose-extended-annotation:$version\") } } } } dependencies { add(\"kspCommonMainMetadata\", \"dev.sergiobelda.navigation.compose.extended:navigation-compose-extended-compiler:$version\") } // Workaround for KSP only in Common Main. tasks.withType\u003corg.jetbrains.kotlin.gradle.dsl.KotlinCompile\u003c*\u003e\u003e().all { if (name != \"kspCommonMainKotlinMetadata\") { dependsOn(\"kspCommonMainKotlinMetadata\") } } kotlin.sourceSets.commonMain { kotlin.srcDir(\"build/generated/ksp/metadata/commonMain/kotlin\") } Create a NavDestination A NavDestination represents some Destination in the Navigation graph. It’s defined by a destinationId, a list of arguments and a list of deepLinks. You can check more information on API Reference here.\nAnnotate your Composable with @NavDestination annotation.\n@NavDestination( destinationId = \"home\", name = \"Home\", // Optional: NavDestination name. ) @Composable fun HomeScreen() {} The compiler will generate a NavDestination object associated with this destination.\npublic object HomeNavDestination : NavDestination\u003cHomeNavArgumentKeys\u003e() { override val destinationId: String = \"home\" } Using the NavDestination into the NavHost This library also provides some wrappers for NavHost, composable, navigation functions as syntax sugar to declare the navigation host and use NavDestinations. In the following code the NavDestination object is set to navDestination parameter, and composable function will set route, arguments and deepLinks implicitly.\nNavHost(navController = navController, startNavDestination = HomeNavDestination) { composable(navDestination = HomeNavDestination) { HomeScreen() } } If you don’t want to use these wrappers, NavDestination base class also offers route, arguments and deepLinks getters that can be used as follows:\nNavHost(navController = navController, startDestination = HomeNavDestination.route) { composable( route = HomeNavDestination.route, arguments = HomeNavDestination.arguments, deepLinks = HomeNavDestination.deepLinks ) { HomeScreen() } } Navigate We can navigate to some destination using the actions functions provided by the NavAction class. The NavAction.navigate() function receive a NavRoute instance to navigate to some destination. This NavRoute associated with a destination can be obtained using the navRoute() function in the NavDestination class or the safeNavRoute() function if we are using annotations.\nval navAction = rememberNavAction(navController) NavHost(navController = navController, startNavDestination = HomeNavDestination) { composable(navDestination = HomeNavDestination) { HomeScreen( navigateToSettings = { navAction.navigate( SettingsNavDestination.navRoute() ) }, ) } Navigate with arguments You can add navigation arguments using the arguments parameter in @NavDestination annotation:\n@NavDestination( name = \"Settings\", destinationId = \"settings\", arguments = [ NavArgument(name = \"userId\", type = NavArgumentType.Int), NavArgument(name = \"text\", type = NavArgumentType.String, defaultValue = \"Default\"), NavArgument(name = \"result\", type = NavArgumentType.Boolean, defaultValue = \"true\"), ], ) @Composable fun SettingsScreen( viewModel: SettingsViewModel ) {} You can navigate to the destination using the generated safeNavRoute():\ncomposable(navDestination = HomeNavDestination) { HomeScreen( navigateToSettings = { navAction.navigate( SettingsNavDestination.safeNavRoute( userId = 1, text = \"Text\", // Here are not passing result parameter because has a defaultValue ) ) }, ) } Retrieving the navigation arguments values The value of navigation arguments can be obtained using the NavArgs class. The NavDestination.navArgs() provides an instance of this class.\nIf we use annotations, a **SafeNavArgs** class is generated with getters for each navigation argument:\n// Generated class SettingsSafeNavArgs public class SettingsSafeNavArgs( navBackStackEntry: NavBackStackEntry, ) { private val navArgs: NavArgs\u003cSettingsNavArgumentKeys\u003e by lazy { SettingsNavDestination.navArgs(navBackStackEntry) } public val userId: Int? get() = navArgs.getInt(SettingsNavArgumentKeys.UserIdNavArgumentKey) public val text: String? get() = navArgs.getString(SettingsNavArgumentKeys.TextNavArgumentKey) public val result: Boolean? get() = navArgs.getBoolean(SettingsNavArgumentKeys.ResultNavArgumentKey) } composable(navDestination = SettingsNavDestination) { navBackStackEntry -\u003e val navArgs = SettingsSafeNavArgs(navBackStackEntry) SettingsScreen( userId = navArgs.userId ?: 0, Navigate with Deep Links (Android only) In the AndroidManifest.xml:\n","wordCount":"776","inLanguage":"en","datePublished":"2024-04-24T00:00:00Z","dateModified":"2024-04-24T00:00:00Z","author":{"@type":"Person","name":"Sergio Belda"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:1313/posts/2024/giving-powers-to-the-navigation-compose-library/"},"publisher":{"@type":"Organization","name":"Sergio Belda","logo":{"@type":"ImageObject","url":"http://localhost:1313/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=http://localhost:1313/ accesskey=h title="Sergio Belda (Alt + H)"><img src=http://localhost:1313/apple-touch-icon.png alt aria-label=logo height=35>Sergio Belda</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=http://localhost:1313/posts/ title=Posts><span>Posts</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://localhost:1313/>Home</a>&nbsp;»&nbsp;<a href=http://localhost:1313/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Giving powers to the Navigation Compose library</h1><div class=post-meta><span title='2024-04-24 00:00:00 +0000 UTC'>April 24, 2024</span>&nbsp;·&nbsp;<span>4 min</span>&nbsp;·&nbsp;<span>Sergio Belda</span></div></header><div class=post-content><p><a href=https://github.com/serbelga/navigation-compose-extended><strong>Navigation Compose Extended</strong></a> is a multiplatform complementary library for Navigation Compose to improve creation of navigation elements, such as destination <strong>routes</strong>, <strong>arguments</strong>, <strong>deep links</strong>, … in a more idiomatic way than using literals. It also provides <strong>safe navigation routes</strong> and <strong>safe navigation arguments</strong>.</p><h3 id=usage>Usage<a hidden class=anchor aria-hidden=true href=#usage>#</a></h3><p>This library can be used programmatically or using annotations to generate classes. In the following lines, <strong>annotations</strong> are used to create navigation elements.</p><p>First, add the following dependencies in the module <strong>build.gradle</strong> file.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-kotlin data-lang=kotlin><span class=line><span class=cl><span class=n>plugins</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>id</span><span class=p>(</span><span class=s2>&#34;com.google.devtools.ksp&#34;</span><span class=p>)</span> <span class=c1>// Use ksp to use compiler library.
</span></span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>kotlin</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>sourceSets</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>val</span> <span class=py>commonMain</span> <span class=k>by</span> <span class=n>getting</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>dependencies</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=c1>// Add Jetbrains Navigation Compose Multiplatform dependency.
</span></span></span><span class=line><span class=cl>                <span class=n>implementation</span><span class=p>(</span><span class=s2>&#34;org.jetbrains.androidx.navigation:navigation-compose:</span><span class=si>$jetbrains</span><span class=s2>_nav_version&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                <span class=n>implementation</span><span class=p>(</span><span class=s2>&#34;dev.sergiobelda.navigation.compose.extended:navigation-compose-extended:</span><span class=si>$version</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=c1>// Use Annotations to generate NavDestinations.
</span></span></span><span class=line><span class=cl>                <span class=n>implementation</span><span class=p>(</span><span class=s2>&#34;dev.sergiobelda.navigation.compose.extended:navigation-compose-extended-annotation:</span><span class=si>$version</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>dependencies</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>add</span><span class=p>(</span><span class=s2>&#34;kspCommonMainMetadata&#34;</span><span class=p>,</span> <span class=s2>&#34;dev.sergiobelda.navigation.compose.extended:navigation-compose-extended-compiler:</span><span class=si>$version</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Workaround for KSP only in Common Main.
</span></span></span><span class=line><span class=cl><span class=n>tasks</span><span class=p>.</span><span class=n>withType</span><span class=p>&lt;</span><span class=n>org</span><span class=p>.</span><span class=n>jetbrains</span><span class=p>.</span><span class=n>kotlin</span><span class=p>.</span><span class=n>gradle</span><span class=p>.</span><span class=n>dsl</span><span class=p>.</span><span class=n>KotlinCompile</span><span class=p>&lt;*&gt;&gt;().</span><span class=n>all</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=n>name</span> <span class=o>!=</span> <span class=s2>&#34;kspCommonMainKotlinMetadata&#34;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>dependsOn</span><span class=p>(</span><span class=s2>&#34;kspCommonMainKotlinMetadata&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>kotlin</span><span class=p>.</span><span class=n>sourceSets</span><span class=p>.</span><span class=n>commonMain</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>kotlin</span><span class=p>.</span><span class=n>srcDir</span><span class=p>(</span><span class=s2>&#34;build/generated/ksp/metadata/commonMain/kotlin&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=create-a-navdestination>Create a NavDestination<a hidden class=anchor aria-hidden=true href=#create-a-navdestination>#</a></h3><p>A <strong>NavDestination</strong> represents some Destination in the Navigation graph. It’s defined by a <strong>destinationId</strong>, a list of <strong>arguments</strong> and a list of <strong>deepLinks</strong>. You can check more information on API Reference <a href=https://sergiobelda.dev/navigation-compose-extended/api/navigation-compose-extended/dev.sergiobelda.navigation.compose.extended/-nav-destination/index.html>here</a>.</p><p>Annotate your Composable with <code>@NavDestination</code> annotation.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-kotlin data-lang=kotlin><span class=line><span class=cl><span class=nd>@NavDestination</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>destinationId</span> <span class=p>=</span> <span class=s2>&#34;home&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>name</span> <span class=p>=</span> <span class=s2>&#34;Home&#34;</span><span class=p>,</span> <span class=c1>// Optional: NavDestination name.
</span></span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nd>@Composable</span>
</span></span><span class=line><span class=cl><span class=k>fun</span> <span class=nf>HomeScreen</span><span class=p>()</span> <span class=p>{}</span>
</span></span></code></pre></div><p>The compiler will generate a <code>NavDestination</code> object associated with this destination.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-kotlin data-lang=kotlin><span class=line><span class=cl><span class=k>public</span> <span class=k>object</span> <span class=nc>HomeNavDestination</span> <span class=p>:</span> <span class=n>NavDestination</span><span class=p>&lt;</span><span class=n>HomeNavArgumentKeys</span><span class=p>&gt;()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>override</span> <span class=k>val</span> <span class=py>destinationId</span><span class=p>:</span> <span class=n>String</span> <span class=p>=</span> <span class=s2>&#34;home&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=using-the-navdestination-into-the-navhost>Using the NavDestination into the NavHost<a hidden class=anchor aria-hidden=true href=#using-the-navdestination-into-the-navhost>#</a></h3><p>This library also provides some wrappers for <a href=https://sergiobelda.dev/navigation-compose-extended/api/navigation-compose-extended/dev.sergiobelda.navigation.compose.extended/-nav-host.html>NavHost</a>, <a href=https://sergiobelda.dev/navigation-compose-extended/api/navigation-compose-extended/dev.sergiobelda.navigation.compose.extended/composable.html>composable</a>, <a href=https://sergiobelda.dev/navigation-compose-extended/api/navigation-compose-extended/dev.sergiobelda.navigation.compose.extended/navigation.html>navigation</a> functions as syntax sugar to declare the navigation host and use <code>NavDestinations</code>. In the following code the <code>NavDestination</code> object is set to <code>navDestination</code> parameter, and <code>composable</code> function will set <code>route</code>, <code>arguments</code> and <code>deepLinks</code> implicitly.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-kotlin data-lang=kotlin><span class=line><span class=cl><span class=n>NavHost</span><span class=p>(</span><span class=n>navController</span> <span class=p>=</span> <span class=n>navController</span><span class=p>,</span> <span class=n>startNavDestination</span> <span class=p>=</span> <span class=n>HomeNavDestination</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>composable</span><span class=p>(</span><span class=n>navDestination</span> <span class=p>=</span> <span class=n>HomeNavDestination</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>HomeScreen</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>If you don’t want to use these wrappers, <code>NavDestination</code> base class also offers <code>route</code>, <code>arguments</code> and <code>deepLinks</code> getters that can be used as follows:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-kotlin data-lang=kotlin><span class=line><span class=cl><span class=n>NavHost</span><span class=p>(</span><span class=n>navController</span> <span class=p>=</span> <span class=n>navController</span><span class=p>,</span> <span class=n>startDestination</span> <span class=p>=</span> <span class=nc>HomeNavDestination</span><span class=p>.</span><span class=n>route</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>composable</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>route</span> <span class=p>=</span> <span class=nc>HomeNavDestination</span><span class=p>.</span><span class=n>route</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>arguments</span> <span class=p>=</span> <span class=nc>HomeNavDestination</span><span class=p>.</span><span class=n>arguments</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>deepLinks</span> <span class=p>=</span> <span class=nc>HomeNavDestination</span><span class=p>.</span><span class=n>deepLinks</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>HomeScreen</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=navigate>Navigate<a hidden class=anchor aria-hidden=true href=#navigate>#</a></h3><p>We can navigate to some destination using the actions functions provided by the <a href=https://sergiobelda.dev/navigation-compose-extended/api/navigation-compose-extended/dev.sergiobelda.navigation.compose.extended/-nav-action/index.html>NavAction</a> class. The <code>NavAction.navigate()</code> function receive a <a href=https://sergiobelda.dev/navigation-compose-extended/api/navigation-compose-extended/dev.sergiobelda.navigation.compose.extended/-nav-route/index.html>NavRoute</a> instance to navigate to some destination. This <code>NavRoute</code> associated with a destination can be obtained using the <code>navRoute()</code> function in the <code>NavDestination</code> class or the <code>safeNavRoute()</code> function if we are using annotations.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-kotlin data-lang=kotlin><span class=line><span class=cl><span class=k>val</span> <span class=py>navAction</span> <span class=p>=</span> <span class=n>rememberNavAction</span><span class=p>(</span><span class=n>navController</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>NavHost</span><span class=p>(</span><span class=n>navController</span> <span class=p>=</span> <span class=n>navController</span><span class=p>,</span> <span class=n>startNavDestination</span> <span class=p>=</span> <span class=n>HomeNavDestination</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>composable</span><span class=p>(</span><span class=n>navDestination</span> <span class=p>=</span> <span class=n>HomeNavDestination</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>HomeScreen</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=n>navigateToSettings</span> <span class=p>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=n>navAction</span><span class=p>.</span><span class=n>navigate</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                    <span class=nc>SettingsNavDestination</span><span class=p>.</span><span class=n>navRoute</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                <span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span></code></pre></div><h3 id=navigate-with-arguments>Navigate with arguments<a hidden class=anchor aria-hidden=true href=#navigate-with-arguments>#</a></h3><p>You can add navigation arguments using the <code>arguments</code> parameter in <code>@NavDestination</code> annotation:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-kotlin data-lang=kotlin><span class=line><span class=cl><span class=nd>@NavDestination</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>name</span> <span class=p>=</span> <span class=s2>&#34;Settings&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>destinationId</span> <span class=p>=</span> <span class=s2>&#34;settings&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>arguments</span> <span class=p>=</span> <span class=p>[</span>        
</span></span><span class=line><span class=cl>        <span class=n>NavArgument</span><span class=p>(</span><span class=n>name</span> <span class=p>=</span> <span class=s2>&#34;userId&#34;</span><span class=p>,</span> <span class=n>type</span> <span class=p>=</span> <span class=nc>NavArgumentType</span><span class=p>.</span><span class=n>Int</span><span class=p>),</span>
</span></span><span class=line><span class=cl>        <span class=n>NavArgument</span><span class=p>(</span><span class=n>name</span> <span class=p>=</span> <span class=s2>&#34;text&#34;</span><span class=p>,</span> <span class=n>type</span> <span class=p>=</span> <span class=nc>NavArgumentType</span><span class=p>.</span><span class=n>String</span><span class=p>,</span> <span class=n>defaultValue</span> <span class=p>=</span> <span class=s2>&#34;Default&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>        <span class=n>NavArgument</span><span class=p>(</span><span class=n>name</span> <span class=p>=</span> <span class=s2>&#34;result&#34;</span><span class=p>,</span> <span class=n>type</span> <span class=p>=</span> <span class=nc>NavArgumentType</span><span class=p>.</span><span class=n>Boolean</span><span class=p>,</span> <span class=n>defaultValue</span> <span class=p>=</span> <span class=s2>&#34;true&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=p>],</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nd>@Composable</span>
</span></span><span class=line><span class=cl><span class=k>fun</span> <span class=nf>SettingsScreen</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>viewModel</span><span class=p>:</span> <span class=n>SettingsViewModel</span>
</span></span><span class=line><span class=cl><span class=p>)</span> <span class=p>{}</span>
</span></span></code></pre></div><p>You can navigate to the destination using the generated <code>safeNavRoute()</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-kotlin data-lang=kotlin><span class=line><span class=cl><span class=n>composable</span><span class=p>(</span><span class=n>navDestination</span> <span class=p>=</span> <span class=n>HomeNavDestination</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>HomeScreen</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>navigateToSettings</span> <span class=p>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>navAction</span><span class=p>.</span><span class=n>navigate</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                <span class=nc>SettingsNavDestination</span><span class=p>.</span><span class=n>safeNavRoute</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                    <span class=n>userId</span> <span class=p>=</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=n>text</span> <span class=p>=</span> <span class=s2>&#34;Text&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=c1>// Here are not passing result parameter because has a defaultValue
</span></span></span><span class=line><span class=cl>                <span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=retrieving-the-navigation-arguments-values>Retrieving the navigation arguments values<a hidden class=anchor aria-hidden=true href=#retrieving-the-navigation-arguments-values>#</a></h3><p>The value of navigation arguments can be obtained using the <a href=https://sergiobelda.dev/navigation-compose-extended/api/navigation-compose-extended/dev.sergiobelda.navigation.compose.extended/-nav-args/index.html>NavArgs</a> class. The <code>NavDestination.navArgs()</code> provides an instance of this class.</p><p>If we use annotations, a <code>**SafeNavArgs**</code> class is generated with getters for each navigation argument:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-kotlin data-lang=kotlin><span class=line><span class=cl><span class=c1>// Generated class SettingsSafeNavArgs
</span></span></span><span class=line><span class=cl><span class=k>public</span> <span class=k>class</span> <span class=nc>SettingsSafeNavArgs</span><span class=p>(</span>
</span></span><span class=line><span class=cl>  <span class=n>navBackStackEntry</span><span class=p>:</span> <span class=n>NavBackStackEntry</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>private</span> <span class=k>val</span> <span class=py>navArgs</span><span class=p>:</span> <span class=n>NavArgs</span><span class=p>&lt;</span><span class=n>SettingsNavArgumentKeys</span><span class=p>&gt;</span> <span class=k>by</span> <span class=n>lazy</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nc>SettingsNavDestination</span><span class=p>.</span><span class=n>navArgs</span><span class=p>(</span><span class=n>navBackStackEntry</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=k>public</span> <span class=k>val</span> <span class=py>userId</span><span class=p>:</span> <span class=n>Int</span><span class=p>?</span>
</span></span><span class=line><span class=cl>    <span class=k>get</span><span class=p>()</span> <span class=p>=</span> <span class=n>navArgs</span><span class=p>.</span><span class=n>getInt</span><span class=p>(</span><span class=nc>SettingsNavArgumentKeys</span><span class=p>.</span><span class=n>UserIdNavArgumentKey</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=k>public</span> <span class=k>val</span> <span class=py>text</span><span class=p>:</span> <span class=n>String</span><span class=p>?</span>
</span></span><span class=line><span class=cl>    <span class=k>get</span><span class=p>()</span> <span class=p>=</span> <span class=n>navArgs</span><span class=p>.</span><span class=n>getString</span><span class=p>(</span><span class=nc>SettingsNavArgumentKeys</span><span class=p>.</span><span class=n>TextNavArgumentKey</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=k>public</span> <span class=k>val</span> <span class=py>result</span><span class=p>:</span> <span class=n>Boolean</span><span class=p>?</span>
</span></span><span class=line><span class=cl>    <span class=k>get</span><span class=p>()</span> <span class=p>=</span> <span class=n>navArgs</span><span class=p>.</span><span class=n>getBoolean</span><span class=p>(</span><span class=nc>SettingsNavArgumentKeys</span><span class=p>.</span><span class=n>ResultNavArgumentKey</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-kotlin data-lang=kotlin><span class=line><span class=cl><span class=n>composable</span><span class=p>(</span><span class=n>navDestination</span> <span class=p>=</span> <span class=n>SettingsNavDestination</span><span class=p>)</span> <span class=p>{</span> <span class=n>navBackStackEntry</span> <span class=o>-&gt;</span>
</span></span><span class=line><span class=cl>    <span class=k>val</span> <span class=py>navArgs</span> <span class=p>=</span> <span class=n>SettingsSafeNavArgs</span><span class=p>(</span><span class=n>navBackStackEntry</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>SettingsScreen</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>userId</span> <span class=p>=</span>  <span class=n>navArgs</span><span class=p>.</span><span class=n>userId</span> <span class=o>?:</span> <span class=mi>0</span><span class=p>,</span>
</span></span></code></pre></div><h3 id=navigate-with-deep-links-android-only>Navigate with Deep Links (Android only)<a hidden class=anchor aria-hidden=true href=#navigate-with-deep-links-android-only>#</a></h3><p>In the <code>AndroidManifest.xml</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;activity</span>
</span></span><span class=line><span class=cl>    <span class=err>...</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;intent-filter&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;action</span> <span class=na>android:name=</span><span class=s>&#34;android.intent.action.VIEW&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;category</span> <span class=na>android:name=</span><span class=s>&#34;android.intent.category.DEFAULT&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;category</span> <span class=na>android:name=</span><span class=s>&#34;android.intent.category.BROWSABLE&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;data</span> <span class=na>android:scheme=</span><span class=s>&#34;sample&#34;</span> <span class=na>android:host=</span><span class=s>&#34;home&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/intent-filter&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/activity&gt;</span>
</span></span></code></pre></div><p>Use the <code>deepLinkUris</code> parameter in the <code>@NavDestination</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-kotlin data-lang=kotlin><span class=line><span class=cl><span class=nd>@NavDestination</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>destinationId</span> <span class=p>=</span> <span class=s2>&#34;home&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>deepLinkUris</span> <span class=p>=</span> <span class=p>[</span>        
</span></span><span class=line><span class=cl>        <span class=s2>&#34;sample://home&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nd>@Composable</span>
</span></span><span class=line><span class=cl><span class=k>fun</span> <span class=nf>HomeScreen</span><span class=p>(</span><span class=n>navigateToSettings</span><span class=p>:</span> <span class=p>()</span> <span class=o>-&gt;</span> <span class=n>Unit</span><span class=p>)</span> <span class=p>{}</span>
</span></span></code></pre></div><h3 id=create-top-level-destinations>Create Top Level Destinations<a hidden class=anchor aria-hidden=true href=#create-top-level-destinations>#</a></h3><p>There’s a special kind of destination to represent the top level destinations in the navigation graph. This is useful for destinations associated to items in a BottomNavigationBar where we can navigate to different screens by clicking on each navigation bar item. To avoid building up a large stack of destinations on the back stack when we click on navigation items and to avoid multiple copies of the same destination when we reselect the same item, we can use this kind of destination.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-kotlin data-lang=kotlin><span class=line><span class=cl><span class=nd>@NavDestination</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=c1>// ...
</span></span></span><span class=line><span class=cl>    <span class=n>isTopLevelNavDestination</span> <span class=p>=</span> <span class=k>true</span><span class=p>,</span> <span class=c1>// Mark NavDestination as a top-level destination.
</span></span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nd>@Composable</span>
</span></span><span class=line><span class=cl><span class=k>fun</span> <span class=nf>HomeScreen</span><span class=p>()</span> <span class=p>{}</span>
</span></span></code></pre></div><h3 id=reference>Reference<a hidden class=anchor aria-hidden=true href=#reference>#</a></h3><ul><li><a href=https://sergiobelda.dev/navigation-compose-extended/>Project website</a></li><li><a href=https://github.com/serbelga/navigation-compose-extended/>GitHub</a></li><li><a href=https://medium.com/@sergiobelda/extending-navigation-compose-de6f426f78ea>Read on Medium</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=http://localhost:1313/tags/navigation/>Navigation</a></li><li><a href=http://localhost:1313/tags/annotations/>Annotations</a></li><li><a href=http://localhost:1313/tags/multiplatform/>Multiplatform</a></li><li><a href=http://localhost:1313/tags/compose/>Compose</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2026 <a href=http://localhost:1313/>Sergio Belda</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>